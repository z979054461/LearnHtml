<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="rocket">
            <img src="./rocket.png" alt="">
        </div>
    </div>
    <script>
        function random(m, n) {
            return Math.ceil(Math.random() * (n - m + 1)) + m - 1;
        }
        const MaxValue = 40;
        const container = document.querySelector('.container');
        const rocket = container.querySelector('.rocket');
        let light;
        for (let i = 0; i < MaxValue; i++) {
            light = document.createElement('i');
            light.style.height = random(30, 100) + 'px';
            light.style.left = random(1, 99) + 'vw';
            light.style.animationDuration = ~~random(5, 30) / 10 + 's';
            container.appendChild(light)
        }
        const keyOffset = 1;//按键偏移
        document.addEventListener('keydown', e => {
            const left = Number.parseFloat(rocket.style.left) || 0;
            const top = Number.parseFloat(rocket.style.top) || 0;
            if (Math.abs(left) >= 47.5 || Math.abs(top) >= 47.5) return;
            switch (e.keyCode) {
                case 37://left
                    rocket.style.left = left - keyOffset + 'vw'
                    break;
                case 39://right
                    rocket.style.left = left + keyOffset + 'vw'
                    break;
                case 38://up
                    rocket.style.top = top - keyOffset + 'vh'
                    break;
                case 40://down
                    rocket.style.top = top + keyOffset + 'vh'
                    break;
            }
        })
    </script>
</body>

</html>